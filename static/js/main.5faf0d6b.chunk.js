(this.webpackJsonpswipemein=this.webpackJsonpswipemein||[]).push([[0],{64:function(e,t,n){},71:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(37),r=n.n(a),s=(n(64),n(40)),c=n(14),o=n(5),l=n(8),u=n(12),d=n(13),j=n.p+"static/media/smi-logo.218d5095.png",h=n(0),p=n.n(h),b=n(3),m=function(e){var t=new Date(1e3*e);return t.toLocaleDateString()+", "+t.toLocaleTimeString()},f=function(e){return e.sort((function(e,t){return e.swipeTime-t.swipeTime}))},O=function(e){return e.sort((function(e,t){return function(e,t){return e.swipeTime===t.swipeTime?e.price-t.price:e.swipeTime-t.swipeTime}(e,t)}))},x=n(28),w=n(55),v=n(2);Object(w.a)({apiKey:"AIzaSyDAVAezS1NPeLwvjW_Ldx3NYbSsWzdTGPg",authDomain:"swipemein-storage.firebaseapp.com",projectId:"swipemein-storage",storageBucket:"swipemein-storage.appspot.com",messagingSenderId:"810938213396",appId:"1:810938213396:web:44f1aff1b0f0b3a3553301",measurementId:"G-E7QJK7RDFJ"});var g=Object(x.b)();Object(x.d)(g,(function(e){e&&Object(x.c)(e).then((function(e){e!==y.getToken()&&(y.changeToken(e),window.location.reload())})).catch((function(e){y.logOut(),alert("Error getting login: "+e.code)}))}));var y=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,null,[{key:"createProfile",value:function(){var t=Object(b.a)(p.a.mark((function t(n,i){var a,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.a)(g,n,i).then((function(t){a=t._tokenResponse.idToken,r=t.user.uid,e.storeToken(a,r)})).catch((function(e){alert("Error creating user: "+e.code)}));case 2:return t.next=4,fetch("https://swipemein.herokuapp.com/addUser",{method:"POST",headers:{"Content-Type":"text/plain",test:e.getToken()}}).catch((function(e){console.log(e),console.log(e.code),e.text().then((function(e){return console.log(e)})),alert("Error inserting into database.")}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"sendVerificationEmail",value:function(){var e=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.e)(g.currentUser).then((function(){alert("A verification email has been sent.")})).catch((function(e){alert("Error sending a verification email: "+e.code)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"resetPassword",value:function(){var e=Object(b.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.f)(g,t).then((function(){alert("Please follow the instructions sent to your email address.")})).catch((function(e){alert("Error resetting the password: "+e.code)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"logIn",value:function(){var t=Object(b.a)(p.a.mark((function t(n,i){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(x.g)(g,n,i).then((function(t){var n=t._tokenResponse.idToken,i=t.user.uid;e.storeToken(n,i)})).catch((function(e){alert("Error signing in: "+e.code)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"logOut",value:function(){Object(x.h)(g).then((function(){e.removeToken()})).catch((function(e){console.log("error signing out")}))}},{key:"isLoggedIn",value:function(){return void 0!==e.getToken()&&null!==e.getToken()}},{key:"storeToken",value:function(e,t){localStorage.setItem("idToken",e),localStorage.setItem("uid",t)}},{key:"changeToken",value:function(e){localStorage.setItem("idToken",e)}},{key:"removeToken",value:function(){localStorage.removeItem("idToken"),localStorage.removeItem("uid")}},{key:"getToken",value:function(){return localStorage.getItem("idToken")}},{key:"getUID",value:function(){return localStorage.getItem("uid")}},{key:"redirectLogin",value:function(){return Object(v.jsx)(c.a,{to:"/login",exact:!0})}}]),e}(),k=y,S=n(77),T=n(78),N=(n(26),n(71),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e;return e=k.isLoggedIn()?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(S.a.Link,{href:"/#/dashboard",children:"Dashboard"}),Object(v.jsx)(S.a.Link,{href:"/#/profile",children:"Profile"}),Object(v.jsx)(S.a.Link,{href:"/",onClick:function(){return k.logOut()},children:"Logout"})]}):Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(S.a.Link,{href:"/#/login",children:"Login"})}),Object(v.jsxs)(T.a,{children:[Object(v.jsxs)(T.a.Brand,{id:"navbrand",href:"/",children:[Object(v.jsx)("img",{src:j,height:"40",alt:"asdf"}),Object(v.jsx)("h5",{children:"SwipeMeIn"})]}),Object(v.jsx)(T.a.Collapse,{children:Object(v.jsx)(S.a,{className:"ml-auto",children:e})})]})}}]),n}(i.Component)),C=n(80),P=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:"footer",children:Object(v.jsxs)("p",{children:["Created 2021 by Christian Scarlett, Zoom Saowakon, Diana Ma, and anon. Please leave feedback or bug reports in this ",Object(v.jsx)("a",{href:"https://forms.gle/HvKSaiyvodTGc1jH6",target:"_blank",rel:"noreferrer",children:"form"}),"."]})})})}}]),n}(i.Component),I=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;Object(o.a)(this,n),i=t.call(this,e);var a=window.location.href;if(a.includes("code")&&null===localStorage.getItem(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_SUB_ID)){var r=a.split("?")[1].split("#")[0].split("=")[1];k.login(r)}return i}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(N,{}),Object(v.jsxs)("div",{className:"container-fluid homephotos",children:[Object(v.jsx)("div",{className:"hometitle container",children:Object(v.jsx)("h2",{children:"SwipeMeIn"})}),Object(v.jsx)("div",{className:"homeinfo container-fluid",children:Object(v.jsxs)("div",{className:"col-xs-4 homedescription",children:[Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("h3",{children:"What is SwipeMeIn?"})}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("p",{children:"We\u2019ve all been there: it\u2019s 7 PM, you\u2019re on campus, and you\u2019re hungry. You have two options: spend an absurd amount of money for on-campus dining or ask a friend to lend you a swipe."}),Object(v.jsx)("p",{children:"With meal plan minimums increasing and limited swipe donation programs to take advantage of, countless students end each year with extra swipes that are wasted. SwipeMeIn is a platform for those with extra swipes to make the most of their surplus and the hungry to score a meal."}),Object(v.jsx)("p",{children:"Note: no money is exchanged on the website - any monetary transactions take place only between the swiper and the swipe claimer."})]}),Object(v.jsxs)("div",{className:"homedirections row container",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsx)(E,{title:"Log in",text:"Log in or create an account on the login page."})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsx)(E,{title:"Add/Claim a Swipe",text:"Say where and when you'll eat, or find a place and time that works for your stomach."})}),Object(v.jsx)("div",{className:"col",children:Object(v.jsx)(E,{title:"Get Swiped!",text:"Eat!"})})]})]})})]}),Object(v.jsx)(P,{})]})}}]),n}(i.Component),E=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsx)(C.a,{children:Object(v.jsxs)(C.a.Body,{children:[Object(v.jsx)(C.a.Title,{children:Object(v.jsx)("a",{href:"/#/login",children:this.props.title})}),Object(v.jsx)(C.a.Text,{children:this.props.text})]})})}}]),n}(i.Component),L=n(75),B=n(76),D=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).state={swipe:i.props.swipe,deleted:!1},i}return Object(l.a)(n,[{key:"claimSwipe",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n){var i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),fetch("https://swipemein.herokuapp.com/claimSwipe?id="+t.id,{method:"POST",headers:{"Content-Type":"application/json",Authorization:k.getToken()}}).then((function(e){return 500===e.status?alert("Internal 500 error: couldn't claim swipe."):200!==e.status&&alert("Unknown response status: "+e.status),e.json()})).then((function(e){i.setState({swipe:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unclaimSwipe",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n){var i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),fetch("https://swipemein.herokuapp.com/unclaimSwipe?id="+t.id,{method:"POST",headers:{"Content-Type":"application/json",Authorization:k.getToken()}}).then((function(e){return 500===e.status?(alert("Internal 500 error: couldn't unclaim swipe."),null):(200!==e.status&&alert("Unknown response status: "+e.status),e.json())})).then((function(e){null!==e&&i.setState({swipe:e})}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteSwipe",value:function(){var e=Object(b.a)(p.a.mark((function e(t,n){var i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),fetch("https://swipemein.herokuapp.com/deleteswipe?id="+t.id,{method:"POST",headers:{"Content-Type":"application/json",Authorization:k.getToken()}}).then((function(e){500!==e.status?(200!==e.status&&alert("Unknown response status: "+e.status),i.setState({deleted:!0})):alert("Internal 500 error: couldn't delete swipe.")}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;if(this.state.deleted)return Object(v.jsx)(v.Fragment,{});var t,n=this.state.swipe;return t="null"===n.claimedBy.id?Object(v.jsx)(L.a,{onClick:function(t){return e.claimSwipe(n,t)},children:"Claim Swipe"}):n.claimedBy.id===k.getUID()?Object(v.jsx)(L.a,{className:"cancelClaimBtn",onClick:function(t){return e.unclaimSwipe(n,t)},children:"Cancel Claim"}):Object(v.jsx)(L.a,{disabled:!0,children:"Swipe Claimed"}),Object(v.jsx)("div",{className:"swipecard container",children:Object(v.jsx)("div",{className:"col-xs-4",children:Object(v.jsx)(C.a,{children:Object(v.jsx)(C.a.Body,{children:Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(C.a.Title,{className:"col",children:n.location}),Object(v.jsxs)(C.a.Title,{className:"col text-right",children:["$",n.price]})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)(C.a.Subtitle,{className:"col",children:m(n.swipeTime)}),Object(v.jsxs)(C.a.Text,{className:"col swipeText",children:[n.ownedBy.firstName,", ",n.ownedBy.email]})]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col claimSwipeArea",children:[t,Object(v.jsx)(S.a.Link,{href:"/#/swipeinfo/"+n.id,children:"Info"}),n.ownedBy.id===k.getUID()&&Object(v.jsx)(S.a.Link,{onClick:function(t){return e.deleteSwipe(n,t)},children:"Delete"})]}),Object(v.jsxs)(C.a.Text,{className:"col swipeText",children:["Social Preference: ",n.ownedBy.socialPreference]})]})]})})})})})}}]),n}(i.Component),G=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).state={name:"",email:"",socialPreference:"",passwordButtonText:"Submit New Password",profileButtonText:"Submit Profile Changes",sendVerificationEmail:"Send Verification Email",ownedSwipes:null,claimedSwipes:null},i}return Object(l.a)(n,[{key:"updateProfile",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.getElementById("nameinput").value,n=document.getElementById("socialpreferenceinput").value,fetch("https://swipemein.herokuapp.com/updateUser",{method:"POST",headers:{"Content-Type":"application/json",test:k.getToken()},body:JSON.stringify({firstName:t,socialPreference:n})}).then((function(){i.setState({profileButtonText:"Profile Change Successful!"})})).catch((function(e){alert("Error changing profile.")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=document.getElementById("newpassword"),n=t.value,fetch("https://swipemein.herokuapp.com/changePassword",{method:"POST",headers:{"Content-Type":"application/json",test:k.getToken()},body:JSON.stringify({newPassword:n})}).then((function(){t.value="",i.setState({passwordButtonText:"Password Change Successful!"})})).catch((function(){alert("Error changing password.")}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserOwnedSwipes",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({ownedSwipes:null}),fetch("https://swipemein.herokuapp.com/userOwnedSwipes",{method:"GET",headers:{"Content-Type":"application/json",test:k.getToken()}}).then((function(e){return e.json()})).then((function(e){var n=f(Object.values(e)).map((function(e){return Object(v.jsx)(D,{swipe:e},e.id)}));t.setState({ownedSwipes:n})})).catch((function(e){alert("Error getting user owned swipes. Status code: "+e.status)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserClaimedSwipes",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({claimedSwipes:null}),fetch("https://swipemein.herokuapp.com/userClaimedSwipes",{method:"GET",headers:{"Content-Type":"application/json",test:k.getToken()}}).then((function(e){return e.json()})).then((function(e){var n=f(Object.values(e)).map((function(e){return Object(v.jsx)(D,{swipe:e},e.id)}));t.setState({claimedSwipes:n})})).catch((function(e){alert("Error getting user claimed swipes. Status code: "+e.status)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;fetch("https://swipemein.herokuapp.com/getUser",{method:"GET",headers:{"Content-Type":"application/json",test:k.getToken()}}).then((function(e){return e.json()})).then((function(t){var n=t.userData;e.setState({name:n.firstName,email:n.email,socialPreference:n.socialPreference,emailVerified:n.emailVerified})})),this.getUserOwnedSwipes(),this.getUserClaimedSwipes()}},{key:"render",value:function(){var e=this;if(!k.isLoggedIn())return k.redirectLogin();var t=this.state.ownedSwipes,n=this.state.claimedSwipes,i="Loading...";return!0===this.state.emailVerified?i="Verified":!1===this.state.emailVerified&&(i="Unverified"),t&&t.reverse(),n&&n.reverse(),Object(v.jsxs)("div",{children:[Object(v.jsx)(N,{}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("h1",{className:"pagetitle",children:"Profile"})}),Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h5",{children:"Account status"}),Object(v.jsxs)("div",{className:"container",children:[i,Object(v.jsx)("br",{}),!1===this.state.emailVerified?Object(v.jsx)(L.a,{onClick:function(){return k.sendVerificationEmail()},children:this.state.sendVerificationEmail}):null]}),Object(v.jsx)("br",{}),Object(v.jsx)("h5",{children:"Info"}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Name:"}),Object(v.jsx)(B.a.Control,{id:"nameinput",type:"text",defaultValue:this.state.name})]}),Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Email:"}),Object(v.jsx)(B.a.Control,{type:"email",placeholder:this.state.email,disabled:!0})]}),Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:'Social Preferences (e.g. "let\'s eat together", "I prefer to eat alone"):'}),Object(v.jsx)(B.a.Control,{id:"socialpreferenceinput",type:"text",defaultValue:this.state.socialPreference})]}),Object(v.jsx)(L.a,{onClick:function(){return e.updateProfile()},children:this.state.profileButtonText})]}),Object(v.jsx)("br",{}),Object(v.jsx)("h5",{children:"Change Password"}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(B.a.Group,{children:Object(v.jsx)(B.a.Control,{id:"newpassword",type:"password",placeholder:"New Password"})}),Object(v.jsx)(L.a,{onClick:function(){return e.changePassword()},children:this.state.passwordButtonText})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"container row noPush",id:"profilefooter",children:[Object(v.jsxs)("div",{className:"col noPush",children:[Object(v.jsx)("h5",{children:"Swipes you own:"}),Object(v.jsx)("div",{className:"container",children:null===t?"loading":0===t.length?"None":t})]}),Object(v.jsxs)("div",{className:"col noPush",children:[Object(v.jsx)("h5",{children:"Swipes you've claimed:"}),Object(v.jsx)("div",{className:"container",children:null===n?"loading":0===n.length?"None":n})]})]})]})}),Object(v.jsx)(P,{})]})}}]),n}(i.Component),U=["Maseeh","McCormick","Baker","Next","Simmons","New Vassar"],A=n(79),F=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).state={swipes:[],loading:!1},i}return Object(l.a)(n,[{key:"getFilteredResults",value:function(e){e.preventDefault();var t={locations:[]};U.forEach((function(e){document.getElementById(e).checked&&t.locations.push(e)})),this.getSwipes(t)}},{key:"getSwipes",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setState({loading:!0}),fetch("https://swipemein.herokuapp.com/getswipes?filters="+JSON.stringify(t),{headers:{"Content-Type":"application/json",Authorization:k.getToken()}}).then((function(e){return e.json()})).then((function(t){var n=O(Object.values(t)).map((function(e){return Object(v.jsx)(D,{swipe:e},e.id)}));e.setState({swipes:n,loading:!1})}))}},{key:"makeCheckboxes",value:function(e){var t=[];return e.forEach((function(e){t.push(Object(v.jsx)(B.a.Check,{type:"checkbox",label:e,id:e,name:e,defaultChecked:!0},e))})),t}},{key:"componentDidMount",value:function(){this.getSwipes()}},{key:"render",value:function(){var e=this;if(!k.isLoggedIn())return k.redirectLogin();var t=this.state.swipes,n=this.makeCheckboxes(U);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N,{}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("h1",{className:"pagetitle",children:"Swipe Dashboard"})}),Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"row container",id:"middashboard",children:[Object(v.jsx)("div",{className:"col",children:Object(v.jsx)(A.a,{children:Object(v.jsxs)(C.a,{children:[Object(v.jsx)(C.a.Header,{children:Object(v.jsx)(A.a.Toggle,{as:L.a,eventKey:"0",children:"Filters"})}),Object(v.jsx)(A.a.Collapse,{eventKey:"0",children:Object(v.jsx)(C.a.Body,{children:Object(v.jsxs)(B.a,{onSubmit:function(t){return e.getFilteredResults(t)},id:"filterform",name:"filterform",children:[Object(v.jsx)("h2",{children:"Dining Halls:"}),Object(v.jsx)(B.a.Group,{children:n}),Object(v.jsx)(A.a.Toggle,{type:"submit",as:L.a,eventKey:"0",children:"Apply Filters"})]})})})]})})}),Object(v.jsx)("div",{className:"col",id:"addswipebuttoncol",children:Object(v.jsx)(L.a,{className:"btn-block",href:"/#/addswipe",id:"addswipebutton",children:"Add Swipe"})})]})}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("br",{}),Object(v.jsx)("b",{children:"Swipes happening in the next 48 hours will be shown."})]}),Object(v.jsx)("div",{className:"container",children:this.state.loading?"loading":0===t.length?"No swipes available.":t}),Object(v.jsx)(P,{})]})}}]),n}(i.Component),V=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e)).state={swipe:{}},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=window.location.hash.split("/"),n=t[t.length-1];fetch("https://swipemein.herokuapp.com/getswipe?id="+n,{headers:{"Content-Type":"application/json",Authorization:k.getToken()}}).then((function(e){return e.json()})).then((function(t){e.setState({swipe:t})}))}},{key:"render",value:function(){if(!k.isLoggedIn())return k.redirectLogin();var e=this.state.swipe;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N,{}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("div",{className:"col-xs-4",children:0===Object.entries(e).length?"loading":Object(v.jsx)(D,{swipe:e})})}),Object(v.jsx)("div",{className:"swipeViewBuffer"}),Object(v.jsx)(P,{})]})}}]),n}(i.Component),_=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"submitForm",value:function(e){e.preventDefault();var t={};if(["swipedininghall","swipedate","swipetime","swipeprice"].forEach((function(e){t[e]=document.getElementById(e).value})),""!==t.swipedate)if(""!==t.swipetime)if(""!==t.swipeprice){document.getElementById("submitbutton").disabled=!0;var n=Date.parse(t.swipedate+"T"+t.swipetime),i={active:!0,claimedBy:null,location:t.swipedininghall,ownedBy:null,swipeTime:n,price:Number(t.swipeprice)};fetch("https://swipemein.herokuapp.com/addswipe?data="+JSON.stringify(i),{method:"POST",headers:{"Content-Type":"application/json",Authorization:k.getToken()}}).then((function(e){500===e.status?alert("Internal 500 error: couldn't add swipe."):200===e.status?alert("Swipe added successfully!"):alert("Unknown response status: "+e.status),document.getElementById("submitbutton").disabled=!1}))}else alert("Please enter the price of your swipe.");else alert("Please enter the time of your swipe.");else alert("Please enter the date of your swipe.")}},{key:"render",value:function(){if(!k.isLoggedIn())return k.redirectLogin();var e=U.map((function(e){return Object(v.jsx)("option",{children:e},e)}));return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N,{}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("h1",{className:"pagetitle",children:"Add Swipe"})}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)(C.a,{children:Object(v.jsx)(C.a.Body,{children:Object(v.jsxs)(B.a,{onSubmit:this.submitForm,id:"swipeform",children:[Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Location"}),Object(v.jsx)(B.a.Control,{as:"select",id:"swipedininghall",children:e})]}),Object(v.jsxs)(B.a.Row,{children:[Object(v.jsx)("div",{className:"col-xs-4",children:Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Day"}),Object(v.jsx)(B.a.Control,{type:"date",id:"swipedate"})]})}),Object(v.jsx)("div",{className:"col-xs-4",children:Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Time"}),Object(v.jsx)(B.a.Control,{type:"time",id:"swipetime"})]})}),Object(v.jsx)("div",{className:"col-xs-4",children:Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Price ($)"}),Object(v.jsx)(B.a.Control,{type:"number",step:"0.01",min:"0",defaultValue:"0",id:"swipeprice"})]})})]}),Object(v.jsx)(L.a,{type:"submit",id:"submitbutton",children:"Submit"})]})})})}),Object(v.jsx)(P,{})]})}}]),n}(i.Component),R=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(v.jsxs)("div",{children:[Object(v.jsx)(N,{}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("h1",{className:"pagetitle",children:"Error 404: Page not found"})}),Object(v.jsx)(P,{})]})}}]),n}(i.Component),M=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"submitLogin",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("login-email").value,n=document.getElementById("login-pw").value,e.next=4,k.logIn(t,n);case 4:this.props.history.push("/dashboard");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submitSignup",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("signup-email").value,n=document.getElementById("signup-pw").value,e.next=4,k.createProfile(t,n);case 4:this.props.history.push("/dashboard");case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submitResetPassword",value:function(){var e=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("reset-pw-email").value,e.next=3,k.resetPassword(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return k.isLoggedIn()?Object(v.jsx)(c.a,{to:"/dashboard"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(N,{}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("h1",{className:"pagetitle",children:"Login"})}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)("h5",{children:"Log in"}),Object(v.jsx)("div",{className:"loginform",children:Object(v.jsxs)(B.a,{children:[Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Email:"}),Object(v.jsx)(B.a.Control,{id:"login-email",placeholder:"<kerb>@mit.edu",type:"email"})]}),Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Password:"}),Object(v.jsx)(B.a.Control,{id:"login-pw",placeholder:"Password",type:"password"})]}),Object(v.jsx)(L.a,{onClick:function(){return e.submitLogin()},children:"Log In"})]})}),Object(v.jsx)("br",{}),Object(v.jsx)("h5",{children:"Sign Up"}),Object(v.jsx)("div",{className:"loginform",children:Object(v.jsxs)(B.a,{children:[Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Email:"}),Object(v.jsx)(B.a.Control,{id:"signup-email",placeholder:"<kerb>@mit.edu",type:"email"})]}),Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Password (must be at least 8 characters long):"}),Object(v.jsx)(B.a.Control,{id:"signup-pw",placeholder:"Password",type:"password"})]}),Object(v.jsx)(L.a,{onClick:function(){return e.submitSignup()},children:"Sign Up"})]})}),Object(v.jsx)("br",{}),Object(v.jsx)("h5",{children:"Reset Password"}),Object(v.jsx)("div",{className:"loginform",children:Object(v.jsxs)(B.a,{children:[Object(v.jsxs)(B.a.Group,{children:[Object(v.jsx)(B.a.Label,{children:"Email:"}),Object(v.jsx)(B.a.Control,{id:"reset-pw-email",placeholder:"<kerb>@mit.edu",type:"email"})]}),Object(v.jsx)(L.a,{onClick:function(){return e.submitResetPassword()},children:"Reset Password"})]})})]}),Object(v.jsx)(P,{})]})}}]),n}(i.Component),W=Object(c.g)(M);var z=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(s.a,{basename:"",children:Object(v.jsxs)(c.d,{children:[Object(v.jsx)(c.b,{exact:!0,path:"/",render:function(){return Object(v.jsx)(I,{})}}),Object(v.jsx)(c.b,{exact:!0,path:"/profile",render:function(){return Object(v.jsx)(G,{})}}),Object(v.jsx)(c.b,{exact:!0,path:"/dashboard",render:function(){return Object(v.jsx)(F,{})}}),Object(v.jsx)(c.b,{exact:!0,path:"/swipeinfo/:id",render:function(){return Object(v.jsx)(V,{})}}),Object(v.jsx)(c.b,{exact:!0,path:"/addswipe",render:function(){return Object(v.jsx)(_,{})}}),Object(v.jsx)(c.b,{exact:!0,path:"/login",render:function(){return Object(v.jsx)(W,{})}}),Object(v.jsx)(c.b,{path:"*",exact:!0,render:function(){return Object(v.jsx)(R,{})}})]})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(v.jsx)(z,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.5faf0d6b.chunk.js.map