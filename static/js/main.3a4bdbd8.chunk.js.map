{"version":3,"sources":["components/Util.js","components/Nav.js","views/Home.js","Objects.js","components/Swipe.js","views/Profile.js","components/Constants.js","views/Dashboard.js","views/SwipeView.js","views/Login.js","views/AddSwipe.js","views/404.js","App.js","serviceWorker.js","index.js"],"names":["login","code","xhr","XMLHttpRequest","onreadystatechange","xhrResponse","readyState","DONE","resp","response","userDocRef","fb","collection","doc","localStorage","setItem","console","log","getItem","get","then","exists","set","email","name","anon","reputation","window","location","reload","getUserInfo","open","setRequestHeader","responseType","send","receiveToken","body","requestToken","isLoggedIn","redirectLogin","to","exact","SwipeNav","props","state","loggedIn","navbarItems","this","Link","href","onClick","removeItem","Brand","Collapse","className","Component","Home","url","includes","split","class","title","text","InfoCard","Body","Title","Text","Student","rep","studentFromFirebase","data","swipeObjectFromFirebase","SwipeObject","swipeTime","Date","available","claimed","owner","active","cancelled","timeCreated","firebaseID","id","time","amount","toLocaleDateString","toLocaleTimeString","Swipe","tokens","path","swipe","swipeID","length","setState","Subtitle","getTimeString","Profile","student","swipePaths","subID","docRef","snapshot","swipes","docs","forEach","push","key","Group","Label","Control","placeholder","type","Check","label","defaultValue","plaintext","readOnly","getRepString","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","diningHallStrings","reputationStrings","Dashboard","updated","swipesData","filter","day","date","now","setHours","parseInt","setMinutes","getTime","strings","checks","s","defaultChecked","alert","getTimestamp","Object","keys","checkFilterComplete","swipesRef","filteredHalls","hall","where","Timestamp","fromMillis","event","preventDefault","form","document","getElementById","value","concat","checked","$","val","getHours","getMinutes","diningHallCheckboxes","makeCheckboxes","repCheckboxes","Header","Toggle","as","rb","eventKey","onSubmit","e","getFilteredResults","getFormFormattedTime","Row","SwipeView","hashes","hash","Login","clientID","scope","redirectURI","pair","AddSwipe","swipeTimestamp","parse","db","add","disabled","diningHalls","submitForm","min","step","WebpageNotFound","App","basename","process","render","Boolean","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3a4bdbd8.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport * as fb from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nexport function login(code) {\r\n    requestToken(code);\r\n}\r\n\r\nfunction requestToken(code) {\r\n    let xhr = new XMLHttpRequest();\r\n    xhr.onreadystatechange = () => receiveToken(xhr);\r\n  \r\n    xhr.open(\"POST\", \"https://oidc.mit.edu/token\");\r\n    xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n    xhr.responseType = \"json\";\r\n  \r\n    let body = \"grant_type=authorization_code\";\r\n    body += \"&code=\" + code;\r\n    body += \"&redirect_uri=https://swipemein.github.io/\";\r\n    body += \"&client_id=8fbfe55e-51b6-40df-a8e2-0a38690e2a9f\";\r\n    body += \"&client_secret=D1vTFSOtY8zdbsiliGbDWf8tJCMtJ7IWPkLyROnp4yxhgpQWqeBRQWGRjj6NEFl_M4dt5k9dvgAA8k4v2poWxQ\";\r\n  \r\n    xhr.send(body);\r\n}\r\n  \r\nfunction receiveToken(xhrResponse) {\r\n    if (xhrResponse.readyState === XMLHttpRequest.DONE) {\r\n        let xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = () => getUserInfo(xhr);\r\n\r\n        xhr.open(\"GET\", \"https://oidc.mit.edu/userinfo\");\r\n        xhr.setRequestHeader(\"Authorization\", \"Bearer \" + xhrResponse.response[\"access_token\"]);\r\n        xhr.responseType = \"json\";\r\n\r\n        xhr.send();\r\n    }\r\n}\r\n\r\nfunction getUserInfo(xhrResponse) {\r\n    if (xhrResponse.readyState === XMLHttpRequest.DONE) {\r\n       let resp = xhrResponse.response;\r\n       let db = fb.firestore();\r\n       let userDocRef = db.collection('users').doc(resp['sub']);\r\n       localStorage.setItem('subID', resp['sub']);\r\n       console.log(localStorage.getItem(\"subID\"));\r\n\r\n        userDocRef.get().then((doc) => {\r\n            if (!doc.exists) {\r\n                console.log(resp);\r\n                console.log('does not exist');\r\n                doc.set({\r\n                    email: resp['email'],\r\n                    name: resp['name'],\r\n                    anon: false,\r\n                    reputation: 1\r\n                    // swipes listed (empty)\r\n                    // swipes claimed (empty)\r\n                });\r\n            }\r\n        });\r\n        window.location.reload();\r\n    }\r\n}\r\n  \r\nexport function logOut() {\r\n    localStorage.removeItem('subID');\r\n}\r\n\r\nexport function isLoggedIn() {\r\n    return localStorage.getItem('subID') !== null;\r\n}\r\n\r\nexport function redirectLogin() {\r\n    return <Redirect to='/login' exact={true} />\r\n}\r\n","import React, { Component} from 'react';\r\n\r\nimport {logOut} from './Util.js';\r\n\r\nimport * as rb from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport '../site.css';\r\n\r\nexport default class SwipeNav extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loggedIn: !(localStorage.getItem(\"subID\") === null)\r\n        }\r\n    }\r\n\r\n    render() {\r\n\r\n        let navbarItems;\r\n        if (!this.state.loggedIn) {\r\n            navbarItems = (\r\n                <>\r\n                <rb.Nav.Link href='/#/login'>Login</rb.Nav.Link>\r\n                </>\r\n            );\r\n        } else {\r\n            navbarItems = (\r\n                <>\r\n                <rb.Nav.Link href='/#/dashboard'>Dashboard</rb.Nav.Link>\r\n                <rb.Nav.Link href='/#/profile'>Profile</rb.Nav.Link>\r\n                <rb.Nav.Link href='/' onClick={() => logOut()}>Logout</rb.Nav.Link>\r\n                </>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <rb.Navbar>\r\n                <rb.Navbar.Brand href='/'>SwipeMeIn</rb.Navbar.Brand>\r\n                <rb.Navbar.Collapse>\r\n                    <rb.Nav className='ml-auto'>\r\n                        {navbarItems}\r\n                    </rb.Nav>\r\n                </rb.Navbar.Collapse>\r\n            </rb.Navbar>\r\n        );\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport SwipeNav from '../components/Nav.js';\r\nimport {login} from '../components/Util.js';\r\n\r\nimport * as rb from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n// import * as fb from 'firebase/app';\r\n// import 'firebase/auth';\r\n// import 'firebase/firestore';\r\n\r\nexport default class Home extends Component { \r\n   constructor(props) {\r\n      super(props);\r\n      // Login info\r\n      let url = window.location.href;\r\n      if (url.includes(\"code\") && localStorage.getItem('subID') === null) {\r\n         let suffix = url.split(\"?\")[1];\r\n         let assignment = suffix.split(\"#\")[0];\r\n         let code = assignment.split(\"=\")[1];\r\n         login(code);\r\n      }\r\n  }\r\n\r\n   render () {\r\n      return (\r\n         <div>\r\n            <SwipeNav/>\r\n            <div class='container-fluid homephotos'>\r\n\r\n               <div class='hometitle container'>\r\n                  <h2>SwipeMeIn</h2>\r\n               </div>\r\n               <div class='homeinfo container-fluid'>\r\n                  <div class='col-xs-4 homedescription'>\r\n                     <div class='container'>\r\n                        <h3>What is SwipeMeIn?</h3>\r\n\r\n                     </div>\r\n                     <div class='container'>\r\n                        <p>We’ve all been thereit’s 7 PM, you’re on campus, and you’re hungry. You have two options: spend an absurd amount of money for on-campus dining or ask a friend to lend you a swipe.</p>\r\n                        <p>With meal plan minimums increasing and limited swipe donation programs to take advantage of, countless students end each year with extra swipes that are wasted. SwipeMeIn is a platform for those with extra swipes to make the most of their surplus and the hungry to score a free meal.</p>\r\n\r\n                     </div>\r\n                     <div class='homedirections container'>\r\n                        <InfoCard title=\"Log in\" text=\"asdf\"/>\r\n                        <InfoCard title=\"Add/Claim Swipe\" />\r\n                        <InfoCard title=\"View Swipe Details\" />\r\n                        <InfoCard title=\"Get Swiped!\" />\r\n                     </div>\r\n                  </div>\r\n               </div>\r\n\r\n            </div>\r\n         </div>\r\n      )\r\n   }\r\n}\r\n\r\nclass InfoCard extends Component {\r\n   render() {\r\n      return (\r\n         // <div class='col-xs-1'>\r\n            <rb.Card>\r\n               <rb.Card.Body>\r\n                  <rb.Card.Title>{this.props.title}</rb.Card.Title>\r\n                  <rb.Card.Text>{this.props.text}</rb.Card.Text>\r\n               </rb.Card.Body>\r\n            </rb.Card>\r\n         // </div>\r\n      );\r\n   }\r\n}\r\n","\r\n// import * as fb from 'firebase/app';\r\n\r\nexport class Student {\r\n    constructor({\r\n        name = \"Student Name\",\r\n        email = \"studentemail@mit.edu\",\r\n        anon = false,\r\n        rep = 0,\r\n    } = {}) {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.anon = anon;\r\n        this.rep = rep;\r\n    }\r\n    \r\n    getRepString() {\r\n        return (this.rep > .5) ? \"Good\" : \"Bad\";\r\n    }\r\n}\r\n\r\nexport function studentFromFirebase(doc) {\r\n    let data = doc.data();\r\n    return new Student({\r\n        name: data['name'],\r\n        email: data['email'],\r\n        anon: data['anon'],\r\n        rep: data['rep']\r\n    });\r\n}\r\n\r\nexport function swipeObjectFromFirebase(doc) {\r\n    // let owner;\r\n    let data = doc.data();\r\n    return new SwipeObject({\r\n        location: data['location'],\r\n        swipeTime: new Date(data['swipeTime']['seconds'] * 1000),\r\n        available: data['available'],\r\n        claimed: data['claimed'],\r\n        owner: new Student(),\r\n        active: data['active'],\r\n        cancelled: data['cancelled'],\r\n        timeCreated: new Date(data['timeCreated']['seconds'] * 1000),\r\n        firebaseID: doc.id\r\n    });\r\n}\r\n\r\nexport default class SwipeObject {\r\n    constructor({\r\n        location=\"Location\",\r\n        swipeTime = new Date(2000, 1, 1, 1, 1, 0, 0),\r\n        available = 0,\r\n        claimed = 0,\r\n        owner = new Student(),\r\n        active = null,\r\n        cancelled = null,\r\n        timeCreated = new Date(),\r\n        firebaseID = null\r\n    } = {}) {\r\n        this.location = location;\r\n        this.time = swipeTime;\r\n        this.amount = available;\r\n        this.claimed = claimed;\r\n        this.owner = owner;\r\n        this.active = active;\r\n        this.cancelled = cancelled;\r\n        this.firebaseID = firebaseID;\r\n    }\r\n    \r\n    getTimeString() {\r\n        return this.time.toLocaleDateString() + \", \" + this.time.toLocaleTimeString()\r\n    }\r\n}\r\n\r\n\r\n","import React, { Component } from 'react';\r\n\r\nimport SwipeObject, {swipeObjectFromFirebase} from '../Objects.js';\r\n\r\nimport * as fb from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nimport * as rb from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport default class Swipe extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        let tokens = this.props.path.split('/');\r\n        this.state = {\r\n            swipe: new SwipeObject(),\r\n            swipeID: tokens[tokens.length-1]\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        let db = fb.firestore();\r\n        let docRef = db.collection('swipes').doc(this.state.swipeID);\r\n        docRef.get().then(doc => {\r\n            this.setState({\r\n                swipe: swipeObjectFromFirebase(doc)\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div class='swipecard container'>\r\n                <div class='col-xs-4'>\r\n                    <rb.Card>\r\n                        <rb.Card.Body>\r\n                            <rb.Card.Title>{ this.state.swipe.location }</rb.Card.Title>\r\n                            <rb.Card.Subtitle>{ this.state.swipe.getTimeString() }</rb.Card.Subtitle>\r\n                            <rb.Card.Text>\r\n\r\n                            </rb.Card.Text>\r\n                            <rb.Button>Claim Swipe</rb.Button>\r\n                            <rb.Card.Link href={'/#/swipeinfo/'+this.state.swipeID}>Info</rb.Card.Link>\r\n                        </rb.Card.Body>\r\n                    </rb.Card>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nimport SwipeNav from '../components/Nav.js';\r\nimport Swipe from '../components/Swipe.js';\r\nimport {Student, studentFromFirebase} from '../Objects.js';\r\nimport {isLoggedIn, redirectLogin} from '../components/Util.js';\r\n\r\nimport * as rb from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport * as fb from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nexport default class Profile extends Component {\r\n\r\n   constructor(props) {\r\n      super(props);\r\n      \r\n      this.state = {\r\n         student: new Student(),\r\n         swipePaths: []\r\n      }\r\n   }\r\n\r\n   componentDidMount() {\r\n      let subID = localStorage.getItem('subID');\r\n      let db = fb.firestore();\r\n      let docRef = db.collection('users').doc(subID);\r\n      docRef.get().then(doc => {\r\n         this.setState({\r\n            student: studentFromFirebase(doc),\r\n         });\r\n      });\r\n\r\n      let swipesRef = docRef.collection('swipes');\r\n      swipesRef.get().then(snapshot => {\r\n         let swipes = [];\r\n         snapshot.docs.forEach(doc => {\r\n            swipes.push(doc.data()['swipe']['path']);\r\n         });\r\n         this.setState({\r\n            swipePaths: swipes\r\n         });\r\n      });\r\n   }\r\n  \r\n   render () {\r\n      if (!isLoggedIn()) {\r\n         return redirectLogin();\r\n      }\r\n\r\n      let student = this.state.student;\r\n      let swipes = [];\r\n      this.state.swipePaths.forEach(path => {\r\n         swipes.push(<Swipe path={path} key={path} />);\r\n      });\r\n\r\n      return (\r\n        <div>\r\n            <SwipeNav/>\r\n            <div class='container'>\r\n               <h1 class=\"pagetitle\">Profile</h1>\r\n            </div>\r\n            <div class='container'>\r\n               <div class='container'>\r\n                  <h5>Info</h5>\r\n                  <div class='container'>\r\n                     <rb.Form>\r\n                        <rb.Form.Group>\r\n                           <rb.Form.Label>Name:</rb.Form.Label>\r\n                           <rb.Form.Control placeholder={student.name}/>\r\n                        </rb.Form.Group>\r\n                        <rb.Form.Group>\r\n                           <rb.Form.Label>Email:</rb.Form.Label>\r\n                           <rb.Form.Control type=\"email\" placeholder={student.email} />\r\n                        </rb.Form.Group>\r\n                        <rb.Form.Group>\r\n                           <rb.Form.Label>Anonymity:</rb.Form.Label>\r\n                           <rb.Form.Check type='switch' label='Anonymous - swipers will not see your name when you claim or advertise a swipe.' \r\n                           defaultValue={student.anon}/>\r\n                        </rb.Form.Group>\r\n                        <rb.Form.Group>\r\n                           <rb.Form.Label>Reputation:</rb.Form.Label>\r\n                           <rb.Form.Control plaintext readOnly placeholder={student.getRepString()}/>\r\n                        </rb.Form.Group>\r\n                     </rb.Form>\r\n                  </div>\r\n                  <div class='container row'>\r\n                  <div class='col-xs-4'>\r\n                     <h5>Your swipes</h5>\r\n                     <div class='container'>\r\n                        {swipes}\r\n                     </div>\r\n\r\n                  </div>\r\n                  <div class='col-xs-4'>\r\n                     <h5>Swipes you've claimed</h5>\r\n                     <div class='container'>\r\n                     </div>\r\n                  </div>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n        </div>\r\n      )\r\n   }\r\n}","\r\nexport const firebaseConfig = {\r\n    apiKey: \"AIzaSyDdmc4unsGL4p64Lrl7GH5uQ7iJZ3gEnqo\",\r\n    authDomain: \"swipemein-20d09.firebaseapp.com\",\r\n    databaseURL: \"https://swipemein-20d09.firebaseio.com\",\r\n    projectId: \"swipemein-20d09\",\r\n    storageBucket: \"swipemein-20d09.appspot.com\",\r\n    messagingSenderId: \"106834805176\",\r\n    appId: \"1:106834805176:web:7431e8cf5325603a99cf4d\",\r\n    measurementId: \"G-248JREEMRL\"\r\n  };\r\n\r\nexport const diningHallStrings = ['Maseeh', 'McCormick', 'Baker', 'Next', 'Simmons'];\r\n\r\nexport const reputationStrings = ['Reliable', 'Somewhat Reliable', 'Flaky'];\r\n","import React, { Component } from 'react';\r\n\r\nimport SwipeNav from '../components/Nav.js';\r\nimport Swipe from '../components/Swipe.js';\r\nimport {isLoggedIn, redirectLogin} from '../components/Util.js';\r\nimport {diningHallStrings, reputationStrings} from '../components/Constants.js';\r\n\r\nimport * as fb from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nimport * as rb from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport $ from 'jquery';\r\n\r\nexport default class Dashboard extends Component { \r\n    constructor(props) {\r\n        super(props);\r\n        this.updated = false;\r\n        this.state = {\r\n            swipesData: [],\r\n            filter: {}\r\n        }\r\n    }\r\n\r\n    getTimestamp(time, day) {\r\n        let filter = this.state.filter;\r\n        let date;\r\n        if (filter[day] === \"Today\") {\r\n            date = new Date(Date.now());\r\n        } else if (filter[day] === \"Tomorrow\") {\r\n            date = new Date(Date.now() + 24*60*60*1000);\r\n        }\r\n        date.setHours(parseInt(filter[time].split(\":\")[0]));\r\n        date.setMinutes(parseInt(filter[time].split(\":\")[1]));\r\n        return date.getTime();\r\n    }\r\n\r\n    makeCheckboxes(strings) {\r\n        let checks = [];\r\n        strings.forEach(s => {\r\n            checks.push(\r\n                <rb.Form.Check type='checkbox' label={s} key={s} id={s} name={s} defaultChecked />\r\n            );\r\n        });\r\n        return checks;\r\n    }\r\n\r\n    checkFilterComplete() {\r\n        let filter = this.state.filter;\r\n        if (filter['starttime'] === \"\") {\r\n            alert(\"Please enter a start time.\");\r\n            return false;\r\n        } else if (filter['endtime'] === \"\") {\r\n            alert(\"Please enter an end time.\");\r\n            return false;\r\n        } else if (this.getTimestamp('endtime', 'endtimeday') < this.getTimestamp('starttime', 'starttimeday')) {\r\n            alert(\"End time must be after start time.\");\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (Object.keys(this.state.filter).length === 0) {\r\n            // Initial state\r\n            return;\r\n        } else if (this.updated) {\r\n            // Prevent infinited updates\r\n            this.updated = false;\r\n            return;\r\n        } else if (!this.checkFilterComplete()) {\r\n            return;\r\n        }\r\n        this.updated = true;\r\n        let db = fb.firestore();\r\n        let swipesRef = db.collection('swipes');\r\n        let filteredHalls = diningHallStrings.filter(hall => this.state.filter[hall]);\r\n\r\n        let filteredSwipesRef = swipesRef\r\n            .where(\"swipeTime\", \">=\", \r\n                fb.firestore.Timestamp.fromMillis(this.getTimestamp('starttime', 'starttimeday')))\r\n            .where(\"swipeTime\", \"<=\", \r\n                fb.firestore.Timestamp.fromMillis(this.getTimestamp('endtime', 'endtimeday')))\r\n            .where(\"location\", \"in\", filteredHalls);\r\n\r\n        filteredSwipesRef.get().then(snapshot => {\r\n            let swipes = [];\r\n            snapshot.docs.forEach(doc => {\r\n                swipes.push(doc.id);\r\n            });\r\n            this.setState({\r\n                swipesData: swipes\r\n            });\r\n        });\r\n    }\r\n\r\n    componentDidMount() {\r\n        let db = fb.firestore();\r\n        let swipesRef = db.collection('swipes');\r\n        \r\n        // All swipes in the next 24 hours\r\n        let filteredSwipesRef = swipesRef\r\n            .where(\"swipeTime\", \">=\", new Date(Date.now()))\r\n            .where(\"swipeTime\", \"<=\", new Date(Date.now() + 24*60*60*1000)); // now + 1 day\r\n\r\n        filteredSwipesRef.get().then(snapshot => {\r\n            let swipes = [];\r\n            snapshot.docs.forEach(doc => {\r\n                swipes.push(doc.id);\r\n            });\r\n            this.setState({\r\n                swipesData: swipes\r\n            });\r\n        });\r\n    }\r\n\r\n    getFilteredResults(event) {\r\n        event.preventDefault();\r\n        let form = {};\r\n        ['starttime', 'endtime'].forEach(key => {\r\n            form[key] = document.getElementById(key).value;\r\n        });\r\n        diningHallStrings.concat(reputationStrings).forEach(key => {\r\n            form[key] = document.getElementById(key).checked;\r\n        });\r\n        ['starttimeday', 'endtimeday'].forEach(key => {\r\n            form[key] = $('input:radio[name='+key+']:checked').val();\r\n        });\r\n        this.setState({\r\n            filter: form\r\n        });\r\n    }\r\n\r\n    getFormFormattedTime(date) {\r\n        return (date.getHours()>=10 ? date.getHours() : \"0\"+date.getHours()) + \r\n            \":\" + \r\n            (date.getMinutes()>=10 ? date.getMinutes() : \"0\"+date.getMinutes());\r\n    }\r\n  \r\n    render () {\r\n        if (!isLoggedIn()) {\r\n            return redirectLogin();\r\n        }\r\n        let swipes = [];\r\n        this.state.swipesData.forEach(id => {\r\n            swipes.push(<Swipe path={id} key={id} />);\r\n        });\r\n        let diningHallCheckboxes = this.makeCheckboxes(diningHallStrings);\r\n        let repCheckboxes = this.makeCheckboxes(reputationStrings);\r\n        return (\r\n            <>\r\n            <SwipeNav/>\r\n            <div class='container'>\r\n                <h1 class='pagetitle'>Swipe Dashboard</h1>\r\n            </div>\r\n            <div class='container'>\r\n                <div class='row container' id='middashboard'>\r\n                    <div class='col'>\r\n                        <rb.Accordion>\r\n                            <rb.Card>\r\n                                <rb.Card.Header>\r\n                                    <rb.Accordion.Toggle as={rb.Button} eventKey=\"0\">\r\n                                        Filter\r\n                                    </rb.Accordion.Toggle>\r\n                                </rb.Card.Header>\r\n                                <rb.Accordion.Collapse eventKey=\"0\">\r\n                                    <rb.Card.Body>\r\n                                        <rb.Form onSubmit={(e) => this.getFilteredResults(e)} id='filterform' name='filterform'>\r\n                                            <h2>Dining Halls:</h2>\r\n                                            <rb.Form.Group>\r\n                                                {diningHallCheckboxes}\r\n                                            </rb.Form.Group>\r\n                                            <h2>Swipe Me In Between:</h2>\r\n                                            <rb.Form.Group>\r\n                                                <rb.Form.Label>Start</rb.Form.Label>\r\n                                                <rb.Form.Control type='time' id='starttime' defaultValue={this.getFormFormattedTime(new Date(Date.now()))} />\r\n                                                <rb.Form.Row>\r\n                                                    <rb.Form.Check type='radio' name='starttimeday' label='Today' value=\"Today\" defaultChecked />\r\n                                                    <rb.Form.Check type='radio' name='starttimeday' label='Tomorrow' value=\"Tomorrow\" />\r\n                                                </rb.Form.Row>\r\n                                                <rb.Form.Label>End</rb.Form.Label>\r\n                                                <rb.Form.Control type='time' id='endtime' defaultValue={this.getFormFormattedTime(new Date(Date.now() + 24*60*60*1000))} />\r\n                                                <rb.Form.Row>\r\n                                                    <rb.Form.Check type='radio' name='endtimeday' label='Today' value=\"Today\" />\r\n                                                    <rb.Form.Check type='radio' name='endtimeday' label='Tomorrow' value=\"Tomorrow\" defaultChecked />\r\n                                                </rb.Form.Row>\r\n                                            </rb.Form.Group>\r\n                                            <h2>Swiper Reputation:</h2>\r\n                                            <rb.Form.Group>\r\n                                                {repCheckboxes}\r\n                                            </rb.Form.Group>\r\n                                            <rb.Accordion.Toggle type='submit' as={rb.Button} eventKey=\"0\">\r\n                                                Filter Results\r\n                                            </rb.Accordion.Toggle>\r\n                                        </rb.Form>\r\n                                    </rb.Card.Body>\r\n                                </rb.Accordion.Collapse>\r\n                            </rb.Card>\r\n                        </rb.Accordion>\r\n                    </div>\r\n                    <div class='col'>\r\n                        <rb.Button class='btn-block' href='/#/addswipe' id='addswipebutton'>Add Swipe</rb.Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class='container'>\r\n                {swipes}\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport SwipeNav from '../components/Nav.js';\r\nimport SwipeObject, {swipeObjectFromFirebase} from '../Objects.js';\r\nimport {isLoggedIn, redirectLogin} from '../components/Util.js';\r\n\r\nimport * as rb from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport * as fb from 'firebase/app';\r\nimport 'firebase/firestore';\r\n\r\nexport default class SwipeView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            swipe: new SwipeObject()\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let hashes = window.location.hash.split(\"/\");\r\n        let swipeID = hashes[hashes.length-1];\r\n        let db = fb.firestore();\r\n        let docRef = db.collection('swipes').doc(swipeID);\r\n        docRef.get().then(doc => {\r\n            this.setState({\r\n                swipe: swipeObjectFromFirebase(doc)\r\n            });\r\n        });\r\n    }\r\n\r\n    render() {\r\n        if (!isLoggedIn()) {\r\n            return redirectLogin();\r\n        }\r\n        let swipe = this.state.swipe;\r\n        return (\r\n            <>\r\n            <SwipeNav />\r\n            <div class='container'>\r\n                <div class='col-xs-4'>\r\n                    <rb.Card>\r\n                        <rb.Card.Body>\r\n                            <rb.Card.Title>{ swipe.location }</rb.Card.Title>\r\n                            <rb.Card.Subtitle>{ swipe.getTimeString() }</rb.Card.Subtitle>\r\n                            <ul>\r\n                                <li>\r\n                                    Swipes Remaining: {swipe.amount - swipe.claimed} / {swipe.amount}\r\n                                </li>\r\n                                <li>\r\n                                    Owner: {swipe.owner.name}\r\n                                </li>\r\n                                <li>\r\n                                    Owner reputation: {swipe.owner.rep}\r\n                                </li>\r\n                                <li>\r\n                                    Status: {swipe.cancelled ? \"Cancelled\" : \"Open\"}\r\n                                </li>\r\n                                <li>\r\n                                    Active: {swipe.active ? \"Active\" : \"Retired\"}\r\n                                </li>\r\n                            </ul>\r\n                            <rb.Button>Claim Swipe</rb.Button>\r\n                        </rb.Card.Body>\r\n                    </rb.Card>\r\n                </div>\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n}","import * as rb from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nimport React, { Component } from 'react';\r\nimport SwipeNav from '../components/Nav.js';\r\n\r\n// import * as fb from 'firebase/app';\r\n// import 'firebase/auth';\r\n// import 'firebase/firestore';\r\n\r\nexport default class Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.clientID = \"8fbfe55e-51b6-40df-a8e2-0a38690e2a9f\";\r\n        this.responseType = \"code\";\r\n        this.scope = \"openid profile email\";\r\n        this.redirectURI = \"https://swipemein.github.io/\";\r\n        \r\n        // this.redirectURI = \"192.168.0.26:3000/\";\r\n        this.url = \"https://oidc.mit.edu/authorize?response_type=code\";\r\n        \r\n        let pairs = [\r\n            [\"client_id\", this.clientID],\r\n            // [\"response_type\", this.responseType],\r\n            [\"redirect_uri\", this.redirectURI],\r\n            [\"scope\", this.scope],\r\n        ];\r\n\r\n        pairs.forEach(pair => {\r\n            let label = pair[0], value = pair[1];\r\n            this.url += \"&\" + label + \"=\" + value;\r\n        });\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <SwipeNav />\r\n                <div class='container'>\r\n                    <a href={this.url}><rb.Button>Login</rb.Button></a>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nimport SwipeNav from '../components/Nav.js';\r\nimport {isLoggedIn, redirectLogin} from '../components/Util.js';\r\nimport {diningHallStrings} from '../components/Constants.js';\r\n\r\nimport * as fb from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/firestore';\r\n\r\nimport * as rb from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport default class AddSwipe extends Component {\r\n\r\n    submitForm(event) {\r\n        event.preventDefault();\r\n        let form = {};\r\n        ['swipedininghall', 'swipedate', 'swipetime', 'swipecount'].forEach(key => {\r\n            form[key] = document.getElementById(key).value;\r\n        });\r\n        if (form['swipedate'] === \"\") {\r\n            alert(\"Please enter the date of your swipe.\");\r\n            return;\r\n        }\r\n        if (form['swipetime'] === \"\") {\r\n            alert(\"Please enter the time of your swipe.\");\r\n            return;\r\n        }\r\n        if (form['swipecount'] === \"\") {\r\n            alert(\"Please enter the number of swipes.\");\r\n            return;\r\n        }\r\n        let swipeTimestamp = Date.parse(form['swipedate'] + \"T\" + form['swipetime']);\r\n        let db = fb.firestore();\r\n        db.collection('swipes').add({\r\n            active: true,\r\n            available: parseInt(form['swipecount']),\r\n            cancelled: false,\r\n            claimed: 0,\r\n            location: form['swipedininghall'],\r\n            owner: db.collection('users').doc(localStorage.getItem('subID')),\r\n            swipeTime: fb.firestore.Timestamp.fromMillis(swipeTimestamp),\r\n            timeCreated: fb.firestore.Timestamp.now()\r\n        });\r\n        document.getElementById('submitbutton').disabled = true;\r\n        document.getElementById('addbutton').disabled = false;\r\n    }\r\n\r\n    render() {\r\n        if (!isLoggedIn()) {\r\n            return redirectLogin();\r\n        }\r\n        let diningHalls = [];\r\n        diningHallStrings.forEach(hall => {\r\n            diningHalls.push(<option key={hall}>{hall}</option>)\r\n        });\r\n        return (\r\n            <>\r\n            <SwipeNav />\r\n            <div class='container'>\r\n                <h1 class='pagetitle'>Add Swipe</h1>\r\n            </div>\r\n            <div class='container'>\r\n                <rb.Card>\r\n                <rb.Card.Body>\r\n\r\n                <rb.Form onSubmit={this.submitForm} id='swipeform'>\r\n                    <rb.Form.Group>\r\n                        <rb.Form.Label>Location</rb.Form.Label>\r\n                        <rb.Form.Control as='select' id='swipedininghall'>\r\n                            {diningHalls}\r\n                        </rb.Form.Control>\r\n                    </rb.Form.Group>\r\n                    <rb.Form.Row>\r\n                        <div class='col-xs-4'>\r\n                            <rb.Form.Group>\r\n                                <rb.Form.Label>Day</rb.Form.Label>\r\n                                <rb.Form.Control type='date' id='swipedate' />\r\n                            </rb.Form.Group>\r\n                        </div>\r\n                        <div class='col-xs-4'>\r\n                            <rb.Form.Group>\r\n                                <rb.Form.Label>Time</rb.Form.Label>\r\n                                <rb.Form.Control type='time' id='swipetime' />\r\n                            </rb.Form.Group>\r\n                        </div>\r\n                    </rb.Form.Row>\r\n                    <rb.Form.Group>\r\n                        <rb.Form.Label>Swipes to Give</rb.Form.Label>\r\n                        <rb.Form.Control type='number' min='1' step='1' id='swipecount' />\r\n                    </rb.Form.Group>\r\n                    <rb.Button type='submit' id='submitbutton'>Submit</rb.Button>\r\n                </rb.Form>\r\n                </rb.Card.Body>\r\n                </rb.Card>\r\n                <div class='container'>\r\n                    <br></br>\r\n                    <a href='/#/addswipe'><rb.Button id='addbutton' disabled>Add Another Swipe</rb.Button></a>\r\n                </div>\r\n            </div>\r\n            </>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport SwipeNav from '../components/Nav.js';\r\n// import * as rb from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nexport default class WebpageNotFound extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <SwipeNav />\r\n                <div class='container'>\r\n                    <h1 class='pagetitle'>Error 404: Page not found</h1>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from 'react';\nimport {HashRouter, Route, Switch} from 'react-router-dom';\n\nimport * as fb from 'firebase/app'; \nimport 'firebase/auth';\nimport 'firebase/firestore';\n\nimport Home from './views/Home';\nimport Profile from './views/Profile';\nimport Dashboard from './views/Dashboard';\nimport SwipeView from './views/SwipeView';\nimport Login from './views/Login';\nimport AddSwipe from './views/AddSwipe';\nimport WebpageNotFound from './views/404.js';\n\nimport {firebaseConfig} from './components/Constants.js';\n\n\n\nfunction App() {\n\n  // Firebase setup\n  if (fb.apps.length === 0) fb.initializeApp(firebaseConfig);\n  \n  return (\n    <>\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route exact={true} path='/' render={() => (\n          <Home />\n        )} />\n        <Route exact={true} path='/profile' render={() => (\n          <Profile />\n        )} />\n        <Route exact={true} path='/dashboard' render={() => (\n          <Dashboard />\n        )} />\n        <Route exact={true} path='/swipeinfo/:id' render={() => (\n          <SwipeView />\n        )} />\n        <Route exact={true} path='/login' render={() => (\n          <Login />\n        )} />\n        <Route exact={true} path='/addswipe' render={() => (\n          <AddSwipe />\n        )} />\n        <Route path=\"*\" exact={true} render={() => (\n          <WebpageNotFound />\n        )} />\n      </Switch>\n    </HashRouter>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}